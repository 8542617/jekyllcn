<!DOCTYPE HTML>
<html lang="zh-CN">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="generator" content="Jekyll v3.2.1">
  <link type="application/atom+xml" rel="alternate" href="http://jekyllcn.com/feed.xml" title="Jekyll • 简单静态博客网站生成器">
  <link rel="alternate" type="application/atom+xml" title="Recent commits to Jekyll’s master branch" href="https://github.com/jekyll/jekyll/commits/master.atom">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic,900">
  <link rel="stylesheet" href="/css/screen.css">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <!-- Begin Jekyll SEO tag v2.0.0 -->
<title>从 0.x 升级到 2.x 版本 - Jekyll • 简单静态博客网站生成器</title>
<meta property="og:title" content="从 0.x 升级到 2.x 版本">
<meta name="description" content="将纯文本转换为静态博客网站">
<meta property="og:description" content="将纯文本转换为静态博客网站">
<link rel="canonical" href="http://jekyllcn.com/docs/upgrading/0-to-2/">
<meta property="og:url" content="http://jekyllcn.com/docs/upgrading/0-to-2/">
<meta property="og:site_name" content="Jekyll • 简单静态博客网站生成器">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2016-08-21T23:18:30-07:00">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@jekyllrb">
<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "headline": "从 0.x 升级到 2.x 版本",
    "datePublished": "2016-08-21T23:18:30-07:00",
    "description": "将纯文本转换为静态博客网站",
    "logo": "http://jekyllcn.comimg/logo-2x.png",
    "url": "http://jekyllcn.com/docs/upgrading/0-to-2/"
  }
</script>
<!-- End Jekyll SEO tag -->
  <!--[if lt IE 9]>
  <script src="/js/html5shiv.min.js"></script>
  <script src="/js/respond.min.js"></script>
  <![endif]-->
</head>


<body class="wrap">
　　<header>
  <nav class="mobile-nav show-on-mobiles">
    <ul>
  <li class="">
    <a href="/">首页</a>
  </li>
  <li class="current">
    <a href="/docs/home/">文档</a>
  </li>
  <li class="">
    <a href="/news/">新闻</a>
  </li>
  <li class="">
    <a href="/community/">社区</a>
  </li>
  <li class="">
    <a href="/help/">帮助</a>
  </li>
  <li>
    <a href="https://github.com/xcatliu/jekyllcn">jekyllCN</a>
  </li>
</ul>

  </nav>
  <div class="grid">
    <div class="unit one-third center-on-mobiles">
      <h1>
        <a href="/">
          <span class="sr-only">Jekyll</span>
          <img src="/img/logo-2x.png" width="249" height="115" alt="Jekyll Logo">
        </a>
      </h1>
    </div>
    <nav class="main-nav unit two-thirds hide-on-mobiles">
      <ul>
  <li class="">
    <a href="/">首页</a>
  </li>
  <li class="current">
    <a href="/docs/home/">文档</a>
  </li>
  <li class="">
    <a href="/news/">新闻</a>
  </li>
  <li class="">
    <a href="/community/">社区</a>
  </li>
  <li class="">
    <a href="/help/">帮助</a>
  </li>
  <li>
    <a href="https://github.com/xcatliu/jekyllcn">jekyllCN</a>
  </li>
</ul>

    </nav>
  </div>
</header>


    <section class="docs">
    <div class="grid">

      <div class="docs-nav-mobile unit whole show-on-mobiles">
  <select onchange="if (this.value) window.location.href=this.value">
    <option value="">Navigate the docs…</option>
    
    <optgroup label="开始">
      
  
  
  <option value="http://jekyllcn.com/docs/home/">欢迎</option>

  
  
  <option value="http://jekyllcn.com/docs/quickstart/">快速指南</option>

  
  
  <option value="http://jekyllcn.com/docs/installation/">安装</option>

  
  
  <option value="http://jekyllcn.com/docs/usage/">基本用法</option>

  
  
  <option value="http://jekyllcn.com/docs/structure/">目录结构</option>

  
  
  <option value="http://jekyllcn.com/docs/configuration/">配置</option>


    </optgroup>
    
    <optgroup label="博客内容">
      
  
  
  <option value="http://jekyllcn.com/docs/frontmatter/">头信息</option>

  
  
  <option value="http://jekyllcn.com/docs/posts/">撰写博客</option>

  
  
  <option value="http://jekyllcn.com/docs/drafts/">使用草稿</option>

  
  
  <option value="http://jekyllcn.com/docs/pages/">创建页面</option>

  
  
  <option value="http://jekyllcn.com/docs/static-files/">静态文件</option>

  
  
  <option value="http://jekyllcn.com/docs/variables/">常用变量</option>

  
  
  <option value="http://jekyllcn.com/docs/collections/">集合（Collections）</option>

  
  
  <option value="http://jekyllcn.com/docs/datafiles/">数据文件</option>

  
  
  <option value="http://jekyllcn.com/docs/assets/">资源</option>

  
  
  <option value="http://jekyllcn.com/docs/migrations/">博客迁移</option>


    </optgroup>
    
    <optgroup label="个性化">
      
  
  
  <option value="http://jekyllcn.com/docs/templates/">模板</option>

  
  
  <option value="http://jekyllcn.com/docs/permalinks/">永久链接</option>

  
  
  <option value="http://jekyllcn.com/docs/pagination/">分页功能</option>

  
  
  <option value="http://jekyllcn.com/docs/plugins/">插件</option>

  
  
  <option value="http://jekyllcn.com/docs/themes/">主题</option>

  
  
  <option value="http://jekyllcn.com/docs/extras/">附加功能</option>


    </optgroup>
    
    <optgroup label="发布">
      
  
  
  <option value="http://jekyllcn.com/docs/github-pages/">GitHub Pages</option>

  
  
  <option value="http://jekyllcn.com/docs/deployment-methods/">部署方法</option>

  
  
  <option value="http://jekyllcn.com/docs/continuous-integration/">持续集成</option>


    </optgroup>
    
    <optgroup label="杂项">
      
  
  
  <option value="http://jekyllcn.com/docs/troubleshooting/">常见问题</option>

  
  
  <option value="http://jekyllcn.com/docs/sites/">使用 Jekyll 的站点</option>

  
  
  <option value="http://jekyllcn.com/docs/resources/">相关资源</option>

  
  
  <option value="http://jekyllcn.com/docs/upgrading/0-to-2/">从 0.x 升级到 2.x 版本</option>

  
  
  <option value="http://jekyllcn.com/docs/upgrading/2-to-3/">Upgrading from 2.x to 3.x</option>


    </optgroup>
    
    <optgroup label="元信息">
      
  
  
  <option value="http://jekyllcn.com/docs/contributing/">Contributing</option>

  
  
  <option value="http://jekyllcn.com/docs/conduct/">Code of Conduct</option>

  
  
  <option value="http://jekyllcn.com/docs/history/">History</option>


    </optgroup>
    
  </select>
</div>


      <div class="unit four-fifths">
        <article>
          <div class="improve right hide-on-mobiles">
            <a href="https://github.com/xcatliu/jekyllcn/edit/master/site/_docs/upgrading/0-to-2.md"><i class="fa fa-pencil"></i>  发现错误或贡献翻译</a>
          </div>
          <h1>从 0.x 升级到 2.x 版本</h1>
          <p>如果您打算升级一个早先版本的 Jekyll，那么一些发生在 1.0 及 2.0 版本中的相关变化，您需要首先了解下。</p>

<p>在我们开始动手之前，请先获取最新版本的 Jekyll：</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>gem update jekyll</code></pre></figure>

<div class="note feature">
  <h5>立即开始</h5>
  <p>想快速构建并运行一个全新的 Jekyll 站点吗？那么只要执行 <code>jekyll new SITENAME</code> 即可！该命令会创建一个包含了 Jekyll 最基础框架的文件夹。</p>
</div>

<h3 id="jekyll-">Jekyll 命令行</h3>

<p>为提升可读性，Jekyll 现已支持 <code class="highlighter-rouge">build</code> 和 <code class="highlighter-rouge">serve</code> 命令。在此之前，您可能通过执行 <code class="highlighter-rouge">jekyll</code> 来生成一个站点，并使用 <code class="highlighter-rouge">jekyll --server</code> 进行本地预览。在 v2.0（及之后的版本）中请您使用 <code class="highlighter-rouge">jekyll build</code> 和 <code class="highlighter-rouge">jekyll serve</code> 命令来创建并预览您的站点。</p>

<div class="note info">
  <h5>运行并浏览</h5>
  <p>由于全新的命令行，您在本地预览站点的方式将发生些小小的变化。目前站点配置文件中已使用 <code class="highlighter-rouge">jekyll serve</code> 来取代早先的<code class="highlighter-rouge">server: true</code>。类似的也针对于 <code class="highlighter-rouge">watch: true</code>。取而代之地，请结合 <code class="highlighter-rouge">jekyll serve</code> 或 <code class="highlighter-rouge">jekyll build</code> 使用 <code class="highlighter-rouge">--watch</code> 标识。</p>
</div>

<h3 id="section">绝对永久链接</h3>

<p>在 Jekyll v1.0 中，我们对于子目录下的页面推出了绝对永久链接。而从 v2.0 开始，绝对永久链接的选项将会不再可用。这便意味着 Jekyll 将默认使用绝对永久链接来取代相对永久链接。相对永久链接的向后兼容性也会在 v3.0 中被移除。</p>

<div class="note warning" id="absolute-permalinks-warning">
  <h5>在 v3.0 中将使用绝对永久链接</h5>
  <p>
    从 Jekyll v3.0 起，相对永久链接的功能将会被移除。因此它将不再可用。
  </p>
</div>

<h3 id="section-1">草稿文章</h3>

<p>Jekyll 现在支持使用草稿。且能让您更佳方便地在发布前预览它们。若需要使用草稿，只需要在您的站点资源目录下建立一个名为 <code class="highlighter-rouge">_drafts</code> 的文件夹（例如就在 <code class="highlighter-rouge">_posts</code> 文件夹旁），同时加入一个新的 markdown 文件。若想预览您的草稿文章，只要执行 <code class="highlighter-rouge">jekyll serve</code> 并带上 <code class="highlighter-rouge">--drafts</code> 即可。</p>

<div class="note info">
  <h5>草稿不具备日期</h5>
  <p>
    不像一般您撰写的文章，草稿并不具备日期，这是因为它们仍未被发布。因此，与其将您的草稿命名为 <code class="highlighter-rouge">2013-07-01-my-draft-post.md</code> 这样的形式，不如简单地命名成 <code class="highlighter-rouge">my-draft-post.md</code> 便可。</p>
</div>

<h3 id="section-2">自定义配置文件</h3>

<p>在过去您可能需要通过命令行传递一个个独立的标识选项，而现在您能通过传递一整个配置文件来配置 Jekyll。这将帮助您在不同的环境及场景中进行区分，也让您更编程性地覆盖用户指定的默认值。您只要在 <code class="highlighter-rouge">jekyll</code> 命令后添加 <code class="highlighter-rouge">--config</code> 标识，然后紧跟一个或多个配置文件的路径即可（用没有空格的逗号隔开）。</p>

<h4 id="section-3">因此，以下的命令行标识现已弃用:</h4>

<ul>
  <li><code class="highlighter-rouge">--no-server</code></li>
  <li>
<code class="highlighter-rouge">--no-auto</code> (现为 <code class="highlighter-rouge">--no-watch</code>)</li>
  <li>
<code class="highlighter-rouge">--auto</code> (现为 <code class="highlighter-rouge">--watch</code>)</li>
  <li><code class="highlighter-rouge">--server</code></li>
  <li><code class="highlighter-rouge">--url=</code></li>
  <li>
<code class="highlighter-rouge">--maruku</code>, <code class="highlighter-rouge">--rdiscount</code>, 及 <code class="highlighter-rouge">--redcarpet</code>
</li>
  <li><code class="highlighter-rouge">--pygments</code></li>
  <li><code class="highlighter-rouge">--permalink=</code></li>
  <li><code class="highlighter-rouge">--paginate</code></li>
</ul>

<div class="note info">
  <h5>配置标识会明确说明你的配置文件</h5>
  <p>若您正使用 <code class="highlighter-rouge">--config</code> 标识，Jekyll 将会忽略您的 <code class="highlighter-rouge">_config.yml</code> 文件。那么您是否希望自定义的配置文件能与常规的配置文件一起使用呢？没问题！通过命令行，Jekyll 能同时支持多个配置文件。 配置文件将以从右到左的瀑布流分布，例如执行 <code class="highlighter-rouge">jekyll serve --config _config.yml,_config-dev.yml</code>，那么位居右侧的配置文件的变量（<code class="highlighter-rouge">_config-dev.yml</code>）将会覆盖左侧（<code class="highlighter-rouge">_config.yml</code>）文件中两者同时包含的配置选项.</p>
</div>

<h3 id="section-4">全新的配置文件选项</h3>

<p>在 1.0 版本中，Jekyll 推出了几个全新的配置文件选项。在您升级之前，您应该仔细检查您的配置文件是否存在以下配置选项。若存在，请确保它们能正常使用：</p>

<ul>
  <li><code class="highlighter-rouge">excerpt_separator</code></li>
  <li><code class="highlighter-rouge">host</code></li>
  <li><code class="highlighter-rouge">include</code></li>
  <li><code class="highlighter-rouge">keep_files</code></li>
  <li><code class="highlighter-rouge">layouts</code></li>
  <li><code class="highlighter-rouge">show_drafts</code></li>
  <li><code class="highlighter-rouge">timezone</code></li>
  <li><code class="highlighter-rouge">url</code></li>
</ul>

<h3 id="baseurl">Baseurl</h3>

<p>通常你会喜欢在多个场景中共同管理同一个 Jekyll 站点。例如您会在将文章发布到 Github Pages 之前，先在本地进行预览。 Jekyll 1.0 通过 <code class="highlighter-rouge">--baseurl</code> 标识让这一切变得更加简单。若想利用这一特性，只需先将 <code class="highlighter-rouge">baseurl</code> 添加到您站点的 <code class="highlighter-rouge">_config.yml</code> 文件中。然后在全站范围内，通过 <code class="highlighter-rouge"><span class="p">{</span><span class="err">{</span><span class="w"> </span><span class="err">site.baseurl</span><span class="w"> </span><span class="p">}</span><span class="err">}</span></code> 简单修正下您的相对 URL 即可。当您准备在本地预览您的站点时，请使用 <code class="highlighter-rouge">jekyll serve</code> 并带上 <code class="highlighter-rouge">--baseurl</code> 和您的本地 baseurl （一般是 <code class="highlighter-rouge">/</code>）。Jekyll 将会修改您的链接，并确保您的所有链接在不同环境中都正常工作。</p>

<div class="note warning">
  <h5>所有页面和文章的 URL 都将包含有前置斜杠</h5>
  <p>如果您使用上述的方法进行操作，那请注意所有页面及文章的 URL 都将包含有前置斜杠。如此一来，所有链接到站点的 baseurl 如 <code class="highlighter-rouge">site.baseurl = /</code>，以及文章或页面的 url 如 <code class="highlighter-rouge">post.url = /2013/06/05/my-fun-post/</code>，就将产生两个前置斜杠。这将会导致链接失效！因此建议，只有当 <code class="highlighter-rouge">baseurl</code> 不是默认的 <code class="highlighter-rouge">/</code> 时，才对 <code class="highlighter-rouge">site.baseurl</code> 进行修改。</p>
</div>


          <div class="jekyllcn-doc-footer">
            <p class="left"><a href="http://jekyllrb.com/docs/upgrading/0-to-2/">原文链接</a></p>
            <p class="right">
              翻译贡献者：
              
              <a href="https://github.com/AlanTanis" title="AlanTanis">
                <img src="https://github.com/AlanTanis.png" class="avatar" alt="AlanTanis avatar" width="24" height="24">
              </a>
              
            </p>
            <div class="clear"></div>
          </div>

          





  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  
    <div class="section-nav">
      <div class="left align-right">
          
            
            
            <a href="/docs/resources/" class="prev">上一节</a>
          
      </div>
      <div class="right align-left">
          
            
            
            <a href="/docs/upgrading/2-to-3/" class="next">下一节</a>
          
      </div>
    </div>
    <div class="clear"></div>
    
        </article>
      </div>

      <div class="unit one-fifth hide-on-mobiles">
  <aside>
    
    <h4>开始</h4>
    <ul>

  
  
  <li class=""><a href="http://jekyllcn.com/docs/home/">欢迎</a></li>

  
  
  <li class=""><a href="http://jekyllcn.com/docs/quickstart/">快速指南</a></li>

  
  
  <li class=""><a href="http://jekyllcn.com/docs/installation/">安装</a></li>

  
  
  <li class=""><a href="http://jekyllcn.com/docs/usage/">基本用法</a></li>

  
  
  <li class=""><a href="http://jekyllcn.com/docs/structure/">目录结构</a></li>

  
  
  <li class=""><a href="http://jekyllcn.com/docs/configuration/">配置</a></li>

</ul>

    
    <h4>博客内容</h4>
    <ul>

  
  
  <li class=""><a href="http://jekyllcn.com/docs/frontmatter/">头信息</a></li>

  
  
  <li class=""><a href="http://jekyllcn.com/docs/posts/">撰写博客</a></li>

  
  
  <li class=""><a href="http://jekyllcn.com/docs/drafts/">使用草稿</a></li>

  
  
  <li class=""><a href="http://jekyllcn.com/docs/pages/">创建页面</a></li>

  
  
  <li class=""><a href="http://jekyllcn.com/docs/static-files/">静态文件</a></li>

  
  
  <li class=""><a href="http://jekyllcn.com/docs/variables/">常用变量</a></li>

  
  
  <li class=""><a href="http://jekyllcn.com/docs/collections/">集合（Collections）</a></li>

  
  
  <li class=""><a href="http://jekyllcn.com/docs/datafiles/">数据文件</a></li>

  
  
  <li class=""><a href="http://jekyllcn.com/docs/assets/">资源</a></li>

  
  
  <li class=""><a href="http://jekyllcn.com/docs/migrations/">博客迁移</a></li>

</ul>

    
    <h4>个性化</h4>
    <ul>

  
  
  <li class=""><a href="http://jekyllcn.com/docs/templates/">模板</a></li>

  
  
  <li class=""><a href="http://jekyllcn.com/docs/permalinks/">永久链接</a></li>

  
  
  <li class=""><a href="http://jekyllcn.com/docs/pagination/">分页功能</a></li>

  
  
  <li class=""><a href="http://jekyllcn.com/docs/plugins/">插件</a></li>

  
  
  <li class=""><a href="http://jekyllcn.com/docs/themes/">主题</a></li>

  
  
  <li class=""><a href="http://jekyllcn.com/docs/extras/">附加功能</a></li>

</ul>

    
    <h4>发布</h4>
    <ul>

  
  
  <li class=""><a href="http://jekyllcn.com/docs/github-pages/">GitHub Pages</a></li>

  
  
  <li class=""><a href="http://jekyllcn.com/docs/deployment-methods/">部署方法</a></li>

  
  
  <li class=""><a href="http://jekyllcn.com/docs/continuous-integration/">持续集成</a></li>

</ul>

    
    <h4>杂项</h4>
    <ul>

  
  
  <li class=""><a href="http://jekyllcn.com/docs/troubleshooting/">常见问题</a></li>

  
  
  <li class=""><a href="http://jekyllcn.com/docs/sites/">使用 Jekyll 的站点</a></li>

  
  
  <li class=""><a href="http://jekyllcn.com/docs/resources/">相关资源</a></li>

  
  
  <li class="current"><a href="http://jekyllcn.com/docs/upgrading/0-to-2/">从 0.x 升级到 2.x 版本</a></li>

  
  
  <li class=""><a href="http://jekyllcn.com/docs/upgrading/2-to-3/">Upgrading from 2.x to 3.x</a></li>

</ul>

    
    <h4>元信息</h4>
    <ul>

  
  
  <li class=""><a href="http://jekyllcn.com/docs/contributing/">Contributing</a></li>

  
  
  <li class=""><a href="http://jekyllcn.com/docs/conduct/">Code of Conduct</a></li>

  
  
  <li class=""><a href="http://jekyllcn.com/docs/history/">History</a></li>

</ul>

    
  </aside>
</div>


      <div class="clear"></div>

    </div>
  </section>


  <footer>
  <div class="grid">
    <div class="unit one-third center-on-mobiles">
      <p>The contents of this website are <br>© 2016 under the terms of the <a href="https://github.com/jekyll/jekyll/blob/master/LICENSE">MIT License</a>.</p>
    </div>
    <div class="unit two-thirds align-right center-on-mobiles">
      <p>
        Proudly hosted by
        <a href="https://github.com">
          <img src="/img/footer-logo.png" width="100" height="30" alt="GitHub • Social coding">
        </a>
      </p>
    </div>
  </div>
</footer>
<div class="grid">
  <div class="unit whole center-on-mobiles">
    <p>此网站由
      <a href="https://github.com/xcatliu">@xcatliu</a>
      维护，由
      <a href="https://github.com/xcatliu/jekyllcn/graphs/contributors">开源爱好者们</a>
      共同翻译。若发现错误或想贡献翻译，请访问：
      <a href="https://github.com/xcatliu/jekyllcn/">xcatliu/jekyllCN</a>
    </p>
  </div>
</div>

  <script>
  var anchorForId = function (id) {
    var anchor = document.createElement("a");
    anchor.className = "header-link";
    anchor.href      = "#" + id;
    anchor.innerHTML = "<span class=\"sr-only\">Permalink</span><i class=\"fa fa-link\"></i>";
    anchor.title = "Permalink";
    return anchor;
  };

  var linkifyAnchors = function (level, containingElement) {
    var headers = containingElement.getElementsByTagName("h" + level);
    for (var h = 0; h < headers.length; h++) {
      var header = headers[h];

      if (typeof header.id !== "undefined" && header.id !== "") {
        header.appendChild(anchorForId(header.id));
      }
    }
  };

  document.onreadystatechange = function () {
    if (this.readyState === "complete") {
      var contentBlock = document.getElementsByClassName("docs")[0] || document.getElementsByClassName("news")[0];
      if (!contentBlock) {
        return;
      }
      for (var level = 1; level <= 6; level++) {
        linkifyAnchors(level, contentBlock);
      }
    }
  };
</script>

  


  <!-- Google Analytics (http://google.com/analytics) -->
  <script>
    !function(j,e,k,y,l,L){j.GoogleAnalyticsObject=y,j[y]||(j[y]=function(){
    (j[y].q=j[y].q||[]).push(arguments)}),j[y].l=+new Date,l=e.createElement(k),
    L=e.getElementsByTagName(k)[0],l.src='//www.google-analytics.com/analytics.js',
    L.parentNode.insertBefore(l,L)}(window,document,'script','ga');

    ga('create', 'UA-45256157-1', 'jekyllcn.com');
    ga('send', 'pageview');

  </script>



</body>
</html>
